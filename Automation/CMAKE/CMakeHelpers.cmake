macro(system_info)
    message("============ SYSTEM INFO ============")
    message("Using ${CMAKE_CXX_COMPILER_ID} compiler")

    if(${WIN32})
        message("Rinning on Windows...")
    elseif(LINUX)
        message("Rinning on Linux...")
    endif()

    if(MSVC)
        message("MSVC version: ${MSVC_VERSION}")
        message("MSVC toolset version: ${MSVC_TOOLSET_VERSION}")
    endif()

    message("Compiler flags: ${CMAKE_CXX_FLAGS}")
    message("Compiler debug flags: ${CMAKE_CXX_FLAGS_DEBUG}")
    message("Compiler release flags: ${CMAKE_CXX_FLAGS_RELEASE}")
    message("Configuration types: ${CMAKE_CONFIGURATION_TYPES}")
    message("======================================")
endmacro()

function(setup_precompiled_headers TARGET PCH_SOURCE PCH_HEADER SOURCE_FILES)
if(MSVC)
    target_sources(${TARGET}Lib PRIVATE ${PCH_HEADER} ${PCH_SOURCE})
    set_source_files_properties(${PCH_SOURCE} PROPERTIES COMPILE_FLAGS "/Yc${PCH_HEADER}")
    foreach(SOURCE_FILE ${SOURCE_FILES})
        if(${SOURCE_FILE} MATCHES "\\.cpp$")
            set_source_files_properties(${SOURCE_FILE} PROPERTIES COMPILE_FLAGS "/Yu${PCH_HEADER}")
        endif()
    endforeach()

    target_compile_options(${TARGET}Lib PRIVATE "/FI${PCH_HEADER}")
endif()
endfunction()